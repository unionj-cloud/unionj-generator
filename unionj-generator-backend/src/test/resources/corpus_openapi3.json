{
  "openapi": "3.0.2",
  "info": {
    "title": "Corpus",
    "description": "Corpus 是针对elasticsearch做增删改查操作的RESTful服务\n同时开放内网和外网访问：\n内网地址baseUrl：http://172.17.109.137:10000/\n理论上，任意一台本公司名下的阿里云云服务器或者阿里云k8s集群的节点都可以访问此内网地址\n推荐优先使用内网地址访问，无须任何权限校验即可访问服务接口\n如果内网的方案不可行，可采用外网地址访问。\n外网地址baseUrl：http://corpus.c92358f369e164c2bbbdee14238b6e9a6.cn-beijing.alicontainer.com/\n如需通过外网地址访问，必须首先发给服务负责人武斌(手机13552053960, 邮箱328454505@qq.com)需访问本服务的本机公网ip地址，可通过百度搜索\"ip\"获取。\n待服务负责人将该ip地址加入白名单，即可正常访问服务。\n无任何代码层面的权限校验机制\nPS:\n开发三组即四川团队内部部署在team3-test集群的服务可直连: http://corpus-service:6060\n给客户独立部署的服务地址请联系本服务负责人获取",
    "version": "v20220220"
  },
  "servers": [
    {
      "url": "http://localhost:6060"
    }
  ],
  "paths": {
    "/corpus/bulkdelete": {
      "post": {
        "description": "BulkDelete 批量删除文档",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkDeletePayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkDeleteResp"
                }
              }
            }
          }
        }
      }
    },
    "/corpus/bulksaveorupdate": {
      "post": {
        "description": "BulkSaveOrUpdate 批量新增或更新文档",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BulkSavePayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkSaveOrUpdateResp"
                }
              }
            }
          }
        }
      }
    },
    "/corpus/byid": {
      "get": {
        "description": "GetByID 通过文档ID查询单条文档数据",
        "parameters": [
          {
            "name": "esindex",
            "in": "query",
            "description": "索引名称",
            "required": true,
            "schema": {
              "type": "string",
              "description": "索引名称"
            }
          },
          {
            "name": "estype",
            "in": "query",
            "description": "索引类型",
            "required": true,
            "schema": {
              "type": "string",
              "description": "索引类型"
            }
          },
          {
            "name": "id",
            "in": "query",
            "description": "文档ID",
            "required": true,
            "schema": {
              "type": "string",
              "description": "文档ID"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetByIDResp"
                }
              }
            }
          }
        }
      }
    },
    "/corpus/clearindex": {
      "post": {
        "description": "ClearIndex 清空该索引的全部数据",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/ClearIndexReq"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClearIndexResp"
                }
              }
            }
          }
        }
      }
    },
    "/corpus/count": {
      "post": {
        "description": "Count 根据筛选条件查询总数",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CountPayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResp"
                }
              }
            }
          }
        }
      }
    },
    "/corpus/index": {
      "delete": {
        "description": "DeleteIndex 删除索引",
        "parameters": [
          {
            "name": "index",
            "in": "query",
            "description": "索引名称",
            "required": true,
            "schema": {
              "type": "string",
              "description": "索引名称"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteIndexResp"
                }
              }
            }
          }
        }
      }
    },
    "/corpus/newindex": {
      "post": {
        "description": "NewIndex 创建新索引",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MappingPayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NewIndexResp"
                }
              }
            }
          }
        }
      }
    },
    "/corpus/page": {
      "post": {
        "description": "Page 分页查询",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PagePayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PageResp"
                }
              }
            }
          }
        }
      }
    },
    "/corpus/random": {
      "post": {
        "description": "Random 随机查询",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RandomPayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RandomResp"
                }
              }
            }
          }
        }
      }
    },
    "/corpus/saveorupdate": {
      "post": {
        "description": "SaveOrUpdate 单条文档新增或更新",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SavePayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SaveOrUpdateResp"
                }
              }
            }
          }
        }
      }
    },
    "/corpus/stat": {
      "post": {
        "description": "Stat 统计查询",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StatPayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatResp"
                }
              }
            }
          }
        }
      }
    },
    "/corpus/updatemapping": {
      "post": {
        "description": "UpdateMapping 更新mapping",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MappingPayload"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateMappingResp"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Base": {
        "title": "Base",
        "type": "object",
        "properties": {
          "index": {
            "type": "string",
            "description": "索引名称"
          },
          "type": {
            "type": "string",
            "description": "索引类型，一般情况下，与索引名称相同"
          }
        },
        "required": [
          "index",
          "type"
        ]
      },
      "BulkDeletePayload": {
        "title": "BulkDeletePayload",
        "type": "object",
        "properties": {
          "docIds": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "文档ID数组"
          },
          "index": {
            "type": "string",
            "description": "索引名称"
          },
          "type": {
            "type": "string",
            "description": "索引类型，一般情况下，与索引名称相同"
          }
        },
        "description": "\n",
        "required": [
          "docIds",
          "index",
          "type"
        ]
      },
      "BulkDeleteResp": {
        "title": "BulkDeleteResp",
        "type": "object"
      },
      "BulkSaveOrUpdateResp": {
        "title": "BulkSaveOrUpdateResp",
        "type": "object"
      },
      "BulkSavePayload": {
        "title": "BulkSavePayload",
        "type": "object",
        "properties": {
          "docs": {
            "type": "array",
            "items": {
              "type": "object",
              "additionalProperties": {
                "type": "object"
              }
            }
          },
          "index": {
            "type": "string",
            "description": "索引名称"
          },
          "type": {
            "type": "string",
            "description": "索引类型，一般情况下，与索引名称相同"
          }
        },
        "description": "\n",
        "required": [
          "docs",
          "type",
          "index"
        ]
      },
      "ClearIndexReq": {
        "title": "ClearIndexReq",
        "type": "object",
        "properties": {
          "index": {
            "type": "string",
            "description": "索引名称"
          }
        },
        "required": [
          "index"
        ]
      },
      "ClearIndexResp": {
        "title": "ClearIndexResp",
        "type": "object"
      },
      "CountPayload": {
        "title": "CountPayload",
        "type": "object",
        "properties": {
          "dateField": {
            "type": "string",
            "description": "日期字段"
          },
          "endDate": {
            "type": "string",
            "description": "结束时间，仅支持两种日期格式：\u003cb\u003eyyyy-MM-dd HH:mm:ss\u003c/b\u003e和\u003cb\u003eyyyy-MM-dd\u003c/b\u003e\n\u003cb\u003e注意：\u003c/b\u003e\n1. 开始时间和结束时间的日期格式不可混用，必须统一用一种格式\n2. 如果不需要精确到小时分秒，建议采用\u003cb\u003eyyyy-MM-dd\u003c/b\u003e格式\n3. 如果采用的是\u003cb\u003eyyyy-MM-dd\u003c/b\u003e格式，结束时间默认包含当天全天的数据，即如果客户要查截止到2022年3月31日的数据，EndDate传\u003ci\u003e2022-03-31\u003c/i\u003e\n即可，不要传\u003ci\u003e2022-04-01\u003c/i\u003e，这样会多查出一天的数据"
          },
          "excludes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "不返回单条文档对象中Excludes指定的字段，其他字段都要"
          },
          "includes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "只返回单条文档对象中Includes指定的字段，其他字段都不要"
          },
          "index": {
            "type": "string",
            "description": "索引名称"
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "description": "只返回Limit条"
          },
          "queryConds": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QueryCond"
            },
            "description": "QueryConds QueryCond类型筛选条件构成的数组\nexample: [{\npair: {\n\"delete_at\": [],\n},\nqueryLogic: 3,  // must_not\nqueryType:  6,  // exists\n}, {\npair: {\n\"text\":    [\"考生\"],\n\"school\":  [\"西安理工\"],\n\"address\": [\"北京\"],\n},\nqueryLogic: 1, // should\nqueryType:  2, // match_phrase\n},]"
          },
          "skip": {
            "type": "integer",
            "format": "int32",
            "description": "跳过Skip条"
          },
          "sortby": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Sort"
            },
            "description": "排序条件，支持多字段排序"
          },
          "startDate": {
            "type": "string",
            "description": "开始时间，仅支持两种日期格式：\u003cb\u003eyyyy-MM-dd HH:mm:ss\u003c/b\u003e和\u003cb\u003eyyyy-MM-dd\u003c/b\u003e"
          },
          "type": {
            "type": "string",
            "description": "索引类型，一般情况下，与索引名称相同"
          }
        },
        "description": "\n",
        "required": [
          "type",
          "endDate",
          "queryConds",
          "sortby",
          "includes",
          "excludes",
          "index",
          "startDate",
          "dateField",
          "skip",
          "limit"
        ]
      },
      "CountResp": {
        "title": "CountResp",
        "type": "object",
        "properties": {
          "rs": {
            "type": "integer",
            "format": "int64",
            "description": "总数"
          }
        },
        "required": [
          "rs"
        ]
      },
      "DeleteIndexResp": {
        "title": "DeleteIndexResp",
        "type": "object"
      },
      "Field": {
        "title": "Field",
        "type": "object",
        "properties": {
          "format": {
            "type": "string",
            "description": "es支持的格式信息"
          },
          "name": {
            "type": "string",
            "description": "字段名"
          },
          "type": {
            "type": "string",
            "description": "es支持的类型"
          }
        },
        "required": [
          "name",
          "type",
          "format"
        ]
      },
      "GetByIDResp": {
        "title": "GetByIDResp",
        "type": "object",
        "properties": {
          "rs": {
            "type": "object",
            "description": "单条文档数据",
            "additionalProperties": {
              "type": "object"
            }
          }
        },
        "required": [
          "rs"
        ]
      },
      "MappingPayload": {
        "title": "MappingPayload",
        "type": "object",
        "properties": {
          "fields": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Field"
            },
            "description": "每个字段的类型等信息"
          },
          "index": {
            "type": "string",
            "description": "索引名称"
          },
          "type": {
            "type": "string",
            "description": "索引类型，一般情况下，与索引名称相同"
          }
        },
        "description": "\n\nMappingPayload 设置mapping",
        "required": [
          "fields",
          "index",
          "type"
        ]
      },
      "NewIndexResp": {
        "title": "NewIndexResp",
        "type": "object",
        "properties": {
          "exists": {
            "type": "boolean",
            "description": "表示该索引是否已经存在，如果已存在则什么都不做"
          }
        },
        "required": [
          "exists"
        ]
      },
      "PagePayload": {
        "title": "PagePayload",
        "type": "object",
        "properties": {
          "dateField": {
            "type": "string",
            "description": "日期字段"
          },
          "endDate": {
            "type": "string",
            "description": "结束时间，仅支持两种日期格式：\u003cb\u003eyyyy-MM-dd HH:mm:ss\u003c/b\u003e和\u003cb\u003eyyyy-MM-dd\u003c/b\u003e\n\u003cb\u003e注意：\u003c/b\u003e\n1. 开始时间和结束时间的日期格式不可混用，必须统一用一种格式\n2. 如果不需要精确到小时分秒，建议采用\u003cb\u003eyyyy-MM-dd\u003c/b\u003e格式\n3. 如果采用的是\u003cb\u003eyyyy-MM-dd\u003c/b\u003e格式，结束时间默认包含当天全天的数据，即如果客户要查截止到2022年3月31日的数据，EndDate传\u003ci\u003e2022-03-31\u003c/i\u003e\n即可，不要传\u003ci\u003e2022-04-01\u003c/i\u003e，这样会多查出一天的数据"
          },
          "excludes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "不返回单条文档对象中Excludes指定的字段，其他字段都要"
          },
          "includes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "只返回单条文档对象中Includes指定的字段，其他字段都不要"
          },
          "index": {
            "type": "string",
            "description": "索引名称"
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "description": "只返回Limit条"
          },
          "queryConds": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QueryCond"
            },
            "description": "QueryConds QueryCond类型筛选条件构成的数组\nexample: [{\npair: {\n\"delete_at\": [],\n},\nqueryLogic: 3,  // must_not\nqueryType:  6,  // exists\n}, {\npair: {\n\"text\":    [\"考生\"],\n\"school\":  [\"西安理工\"],\n\"address\": [\"北京\"],\n},\nqueryLogic: 1, // should\nqueryType:  2, // match_phrase\n},]"
          },
          "skip": {
            "type": "integer",
            "format": "int32",
            "description": "跳过Skip条"
          },
          "sortby": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Sort"
            },
            "description": "排序条件，支持多字段排序"
          },
          "startDate": {
            "type": "string",
            "description": "开始时间，仅支持两种日期格式：\u003cb\u003eyyyy-MM-dd HH:mm:ss\u003c/b\u003e和\u003cb\u003eyyyy-MM-dd\u003c/b\u003e"
          },
          "type": {
            "type": "string",
            "description": "索引类型，一般情况下，与索引名称相同"
          }
        },
        "description": "分页查询请求体payload\nPagePayload 分页查询请求对象",
        "required": [
          "index",
          "type",
          "startDate",
          "queryConds",
          "skip",
          "sortby",
          "excludes",
          "endDate",
          "dateField",
          "limit",
          "includes"
        ]
      },
      "PageResp": {
        "title": "PageResp",
        "type": "object",
        "properties": {
          "rs": {
            "$ref": "#/components/schemas/PageResult"
          }
        },
        "required": [
          "rs"
        ]
      },
      "PageResult": {
        "title": "PageResult",
        "type": "object",
        "properties": {
          "docs": {
            "type": "array",
            "items": {
              "type": "object"
            }
          },
          "hasNextPage": {
            "type": "boolean"
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          },
          "total": {
            "type": "integer",
            "format": "int32"
          }
        },
        "description": "分页查询结果\nPageResult 分页结果结构体",
        "required": [
          "page",
          "pageSize",
          "total",
          "docs",
          "hasNextPage"
        ]
      },
      "Paging": {
        "title": "Paging",
        "type": "object",
        "properties": {
          "dateField": {
            "type": "string",
            "description": "日期字段"
          },
          "endDate": {
            "type": "string",
            "description": "结束时间，仅支持两种日期格式：\u003cb\u003eyyyy-MM-dd HH:mm:ss\u003c/b\u003e和\u003cb\u003eyyyy-MM-dd\u003c/b\u003e\n\u003cb\u003e注意：\u003c/b\u003e\n1. 开始时间和结束时间的日期格式不可混用，必须统一用一种格式\n2. 如果不需要精确到小时分秒，建议采用\u003cb\u003eyyyy-MM-dd\u003c/b\u003e格式\n3. 如果采用的是\u003cb\u003eyyyy-MM-dd\u003c/b\u003e格式，结束时间默认包含当天全天的数据，即如果客户要查截止到2022年3月31日的数据，EndDate传\u003ci\u003e2022-03-31\u003c/i\u003e\n即可，不要传\u003ci\u003e2022-04-01\u003c/i\u003e，这样会多查出一天的数据"
          },
          "excludes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "不返回单条文档对象中Excludes指定的字段，其他字段都要"
          },
          "includes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "只返回单条文档对象中Includes指定的字段，其他字段都不要"
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "description": "只返回Limit条"
          },
          "queryConds": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QueryCond"
            },
            "description": "QueryConds QueryCond类型筛选条件构成的数组\nexample: [{\npair: {\n\"delete_at\": [],\n},\nqueryLogic: 3,  // must_not\nqueryType:  6,  // exists\n}, {\npair: {\n\"text\":    [\"考生\"],\n\"school\":  [\"西安理工\"],\n\"address\": [\"北京\"],\n},\nqueryLogic: 1, // should\nqueryType:  2, // match_phrase\n},]"
          },
          "skip": {
            "type": "integer",
            "format": "int32",
            "description": "跳过Skip条"
          },
          "sortby": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Sort"
            },
            "description": "排序条件，支持多字段排序"
          },
          "startDate": {
            "type": "string",
            "description": "开始时间，仅支持两种日期格式：\u003cb\u003eyyyy-MM-dd HH:mm:ss\u003c/b\u003e和\u003cb\u003eyyyy-MM-dd\u003c/b\u003e"
          }
        },
        "description": "Paging 分页查询条件",
        "required": [
          "startDate",
          "endDate",
          "dateField",
          "queryConds",
          "skip",
          "limit",
          "sortby",
          "includes",
          "excludes"
        ]
      },
      "QueryCond": {
        "title": "QueryCond",
        "type": "object",
        "properties": {
          "children": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QueryCond"
            },
            "description": "子查询条件"
          },
          "pair": {
            "type": "object",
            "description": "键值对，值\u003cb\u003e必须\u003c/b\u003e是数组\nPair字段的作用相当于把多条查询条件依据QueryLogic和QueryType做分组\nexample: pair: {\n\"name\":  [\"jack\"],\n\"hobby\": [\"football\"],\n},",
            "additionalProperties": {
              "items": {
                "type": "object"
              },
              "type": "array"
            }
          },
          "queryLogic": {
            "type": "integer",
            "format": "int32",
            "description": "定义pair里的键值对的es关系类型，以及子查询条件整体的关系类型，接受以下枚举值：\nshould: 1\nmust: 2\nmust_not: 3"
          },
          "queryType": {
            "type": "integer",
            "format": "int32",
            "description": "定义pair里的键值对的es查询类型，接受以下枚举值：\nterms: 1\nmatch_phrase: 2\nrange: 3\nprefix: 4\nwildcard: 5\nexists: 6"
          }
        },
        "description": "QueryCond 基于es查询语句的封装，树形结构，方便对es查询语句不熟悉的朋友使用",
        "required": [
          "pair",
          "queryLogic",
          "queryType",
          "children"
        ]
      },
      "RandomPayload": {
        "title": "RandomPayload",
        "type": "object",
        "properties": {
          "dateField": {
            "type": "string",
            "description": "日期字段"
          },
          "endDate": {
            "type": "string",
            "description": "结束时间，仅支持两种日期格式：\u003cb\u003eyyyy-MM-dd HH:mm:ss\u003c/b\u003e和\u003cb\u003eyyyy-MM-dd\u003c/b\u003e\n\u003cb\u003e注意：\u003c/b\u003e\n1. 开始时间和结束时间的日期格式不可混用，必须统一用一种格式\n2. 如果不需要精确到小时分秒，建议采用\u003cb\u003eyyyy-MM-dd\u003c/b\u003e格式\n3. 如果采用的是\u003cb\u003eyyyy-MM-dd\u003c/b\u003e格式，结束时间默认包含当天全天的数据，即如果客户要查截止到2022年3月31日的数据，EndDate传\u003ci\u003e2022-03-31\u003c/i\u003e\n即可，不要传\u003ci\u003e2022-04-01\u003c/i\u003e，这样会多查出一天的数据"
          },
          "excludes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "不返回单条文档对象中Excludes指定的字段，其他字段都要"
          },
          "includes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "只返回单条文档对象中Includes指定的字段，其他字段都不要"
          },
          "index": {
            "type": "string",
            "description": "索引名称"
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "description": "只返回Limit条"
          },
          "queryConds": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QueryCond"
            },
            "description": "QueryConds QueryCond类型筛选条件构成的数组\nexample: [{\npair: {\n\"delete_at\": [],\n},\nqueryLogic: 3,  // must_not\nqueryType:  6,  // exists\n}, {\npair: {\n\"text\":    [\"考生\"],\n\"school\":  [\"西安理工\"],\n\"address\": [\"北京\"],\n},\nqueryLogic: 1, // should\nqueryType:  2, // match_phrase\n},]"
          },
          "skip": {
            "type": "integer",
            "format": "int32",
            "description": "跳过Skip条"
          },
          "sortby": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Sort"
            },
            "description": "排序条件，支持多字段排序"
          },
          "startDate": {
            "type": "string",
            "description": "开始时间，仅支持两种日期格式：\u003cb\u003eyyyy-MM-dd HH:mm:ss\u003c/b\u003e和\u003cb\u003eyyyy-MM-dd\u003c/b\u003e"
          },
          "type": {
            "type": "string",
            "description": "索引类型，一般情况下，与索引名称相同"
          }
        },
        "description": "\n",
        "required": [
          "skip",
          "limit",
          "sortby",
          "type",
          "startDate",
          "endDate",
          "dateField",
          "queryConds",
          "index",
          "includes",
          "excludes"
        ]
      },
      "RandomResp": {
        "title": "RandomResp",
        "type": "object",
        "properties": {
          "rs": {
            "type": "array",
            "items": {
              "type": "object",
              "additionalProperties": {
                "type": "object"
              }
            }
          }
        },
        "required": [
          "rs"
        ]
      },
      "SaveOrUpdateResp": {
        "title": "SaveOrUpdateResp",
        "type": "object",
        "properties": {
          "rs": {
            "type": "string",
            "description": "成功与否"
          }
        },
        "required": [
          "rs"
        ]
      },
      "SavePayload": {
        "title": "SavePayload",
        "type": "object",
        "properties": {
          "doc": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            }
          },
          "index": {
            "type": "string",
            "description": "索引名称"
          },
          "type": {
            "type": "string",
            "description": "索引类型，一般情况下，与索引名称相同"
          }
        },
        "description": "\n",
        "required": [
          "doc",
          "index",
          "type"
        ]
      },
      "Sort": {
        "title": "Sort",
        "type": "object",
        "properties": {
          "ascending": {
            "type": "boolean",
            "description": "是否升序"
          },
          "field": {
            "type": "string",
            "description": "字段名"
          }
        },
        "description": "Sort 排序条件",
        "required": [
          "field",
          "ascending"
        ]
      },
      "StatPayload": {
        "title": "StatPayload",
        "type": "object",
        "properties": {
          "aggr": {
            "type": "object"
          },
          "dateField": {
            "type": "string",
            "description": "日期字段"
          },
          "endDate": {
            "type": "string",
            "description": "结束时间，仅支持两种日期格式：\u003cb\u003eyyyy-MM-dd HH:mm:ss\u003c/b\u003e和\u003cb\u003eyyyy-MM-dd\u003c/b\u003e\n\u003cb\u003e注意：\u003c/b\u003e\n1. 开始时间和结束时间的日期格式不可混用，必须统一用一种格式\n2. 如果不需要精确到小时分秒，建议采用\u003cb\u003eyyyy-MM-dd\u003c/b\u003e格式\n3. 如果采用的是\u003cb\u003eyyyy-MM-dd\u003c/b\u003e格式，结束时间默认包含当天全天的数据，即如果客户要查截止到2022年3月31日的数据，EndDate传\u003ci\u003e2022-03-31\u003c/i\u003e\n即可，不要传\u003ci\u003e2022-04-01\u003c/i\u003e，这样会多查出一天的数据"
          },
          "excludes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "不返回单条文档对象中Excludes指定的字段，其他字段都要"
          },
          "includes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "只返回单条文档对象中Includes指定的字段，其他字段都不要"
          },
          "index": {
            "type": "string",
            "description": "索引名称"
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "description": "只返回Limit条"
          },
          "queryConds": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QueryCond"
            },
            "description": "QueryConds QueryCond类型筛选条件构成的数组\nexample: [{\npair: {\n\"delete_at\": [],\n},\nqueryLogic: 3,  // must_not\nqueryType:  6,  // exists\n}, {\npair: {\n\"text\":    [\"考生\"],\n\"school\":  [\"西安理工\"],\n\"address\": [\"北京\"],\n},\nqueryLogic: 1, // should\nqueryType:  2, // match_phrase\n},]"
          },
          "skip": {
            "type": "integer",
            "format": "int32",
            "description": "跳过Skip条"
          },
          "sortby": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Sort"
            },
            "description": "排序条件，支持多字段排序"
          },
          "startDate": {
            "type": "string",
            "description": "开始时间，仅支持两种日期格式：\u003cb\u003eyyyy-MM-dd HH:mm:ss\u003c/b\u003e和\u003cb\u003eyyyy-MM-dd\u003c/b\u003e"
          },
          "type": {
            "type": "string",
            "description": "索引类型，一般情况下，与索引名称相同"
          }
        },
        "description": "\n",
        "required": [
          "aggr",
          "limit",
          "sortby",
          "endDate",
          "type",
          "startDate",
          "dateField",
          "queryConds",
          "skip",
          "includes",
          "excludes",
          "index"
        ]
      },
      "StatResp": {
        "title": "StatResp",
        "type": "object",
        "properties": {
          "rs": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            }
          }
        },
        "required": [
          "rs"
        ]
      },
      "UpdateMappingResp": {
        "title": "UpdateMappingResp",
        "type": "object"
      }
    }
  }
}